{"version":3,"sources":["../lib/geoLocation.js"],"names":[],"mappings":"AAAA;;;;;;AAEA,IAAI,cAAc,QAAlB;AACA,IAAI,aAAa,QAAjB;;AAEA;;;;;IAIM,W;AACJ;;;;;AAKA,6BAGG;AAAA,8BAFD,SAEC;AAAA,QAFD,SAEC,kCAFW,CAEX;AAAA,6BADD,QACC;AAAA,QADD,QACC,iCADU,CACV;;AAAA;;AACD,SAAK,WAAL,IAAoB,SAApB;AACA,SAAK,UAAL,IAAmB,QAAnB;;AAEA;AACA,QAAI,KAAK,WAAL,MAAsB,SAAtB,IAAmC,OAAO,KAAK,WAAL,CAAP,IAA6B,QAApE,EAA8E;AAC5E,YAAM,IAAI,KAAJ,CAAU,4CAA4C,KAAK,WAAL,CAAtD,CAAN;AACD;AACD,QAAI,KAAK,UAAL,MAAqB,SAArB,IAAkC,OAAO,KAAK,UAAL,CAAP,IAA4B,QAAlE,EAA4E;AAC1E,YAAM,IAAI,KAAJ,CAAU,2CAA2C,KAAK,UAAL,CAArD,CAAN;AACD;;AAED;AACA;AACA,SAAK,WAAL,IAAoB,KAAK,WAAL,IAAoB,GAAxC;AACA,QAAI,KAAK,WAAL,IAAoB,GAAxB,EAA6B,KAAK,WAAL,KAAqB,GAArB;;AAE7B;AACA,SAAK,UAAL,IAAmB,KAAK,GAAL,CAAS,CAAC,EAAV,EAAc,KAAK,GAAL,CAAS,KAAK,UAAL,CAAT,EAA2B,EAA3B,CAAd,CAAnB;AACD;;AAED;;;;;;;;;;;AA0CA;;;;+BAIW;AACT,mBAAW,KAAK,QAAhB,UAA6B,KAAK,SAAlC;AACD;;AAED;;;;;;;mCAIe;AACb,aAAO,gCAAgC,KAAK,WAArC,GAAmD,GAAnD,GAAyD,KAAK,YAArE;AACD;;;wBAnDe;AACd,UAAI,KAAK,WAAL,IAAoB,CAAxB,EAA2B;AACzB,eAAO,0BAA0B,CAAC,KAAK,WAAL,CAA3B,IAAgD,GAAvD;AACD,OAFD,MAEO;AACL,eAAO,0BAA0B,KAAK,WAAL,CAA1B,IAA+C,GAAtD;AACD;AACF;;AAED;;;;;;;wBAImB;AACjB,aAAO,KAAK,WAAL,CAAP;AACD;;AAED;;;;;;;;wBAKe;AACb,UAAI,KAAK,UAAL,IAAmB,CAAvB,EAA0B;AACxB,eAAO,0BAA0B,CAAC,KAAK,UAAL,CAA3B,IAA+C,GAAtD;AACD,OAFD,MAEO;AACL,eAAO,0BAA0B,KAAK,UAAL,CAA1B,IAA8C,GAArD;AACD;AACF;;AAED;;;;;;;wBAIkB;AAChB,aAAO,KAAK,UAAL,CAAP;AACD;;;;;;AAmBH;;;;;;;AAKA,SAAS,yBAAT,CAAmC,MAAnC,EAA2C;AACzC;AACA,MAAI,kBAAkB,KAAK,KAAL,CAAY,SAAS,CAAV,GAAe,EAA1B,CAAtB;AACA,MAAI,kBAAkB,CAAG,SAAS,EAAV,GAAgB,CAAjB,GAAsB,EAAvB,EAA2B,OAA3B,CAAmC,CAAnC,CAAtB;;AAEA;AACA,SAAU,KAAK,KAAL,CAAW,MAAX,CAAV,SAAqC,eAArC,SAA6D,eAA7D;AACD;;AAED,OAAO,OAAP,GAAiB,WAAjB","file":"geoLocation.js","sourcesContent":["\"use strict\";\r\n\r\nvar s_longitude = Symbol();\r\nvar s_latitude = Symbol();\r\n\r\n/**\r\n * GeoLocation class to store theme park locations and supply helper functions\r\n * @class\r\n */\r\nclass GeoLocation {\r\n  /**\r\n   * @param {Object} location\r\n   * @param {Number} location.longitude - New location's longitude\r\n   * @param {Number} location.latitude - New location's latitude\r\n   * */\r\n  constructor({\r\n    longitude = 0,\r\n    latitude = 0\r\n  }) {\r\n    this[s_longitude] = longitude;\r\n    this[s_latitude] = latitude;\r\n\r\n    // validate longitude and latitude\r\n    if (this[s_longitude] === undefined || typeof(this[s_longitude]) != \"number\") {\r\n      throw new Error(\"Invalid/Undefined value for longitude: \" + this[s_longitude]);\r\n    }\r\n    if (this[s_latitude] === undefined || typeof(this[s_latitude]) != \"number\") {\r\n      throw new Error(\"Invalid/Undefined value for latitude: \" + this[s_latitude]);\r\n    }\r\n\r\n    // wrap longitude and latitude around so they are in a standard format for us to use\r\n    //  longitude should be between -180,180\r\n    this[s_longitude] = this[s_longitude] % 360;\r\n    if (this[s_longitude] > 180) this[s_longitude] -= 360;\r\n\r\n    //  latitude should be clamped between -90,90 (if we go too far north, we don't want to wrap around to the south)\r\n    this[s_latitude] = Math.max(-90, Math.min(this[s_latitude], 90));\r\n  }\r\n\r\n  /**\r\n   * Return the formatted longitude for this location\r\n   * Formatted as XX°YY′ZZ″\r\n   * @type {String}\r\n   * */\r\n  get Longitude() {\r\n    if (this[s_longitude] < 0) {\r\n      return formatNumberToGeoLocation(-this[s_longitude]) + \"W\";\r\n    } else {\r\n      return formatNumberToGeoLocation(this[s_longitude]) + \"E\";\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the raw numeric value of this position's longitude\r\n   * @type {Number}\r\n   * */\r\n  get LongitudeRaw() {\r\n    return this[s_longitude];\r\n  }\r\n\r\n  /**\r\n   * Return the formatted latitude for this location\r\n   * Formatted as XX°YY′\r\n   * @type {String}\r\n   * */\r\n  get Latitude() {\r\n    if (this[s_latitude] < 0) {\r\n      return formatNumberToGeoLocation(-this[s_latitude]) + \"S\";\r\n    } else {\r\n      return formatNumberToGeoLocation(this[s_latitude]) + \"N\";\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the raw numeric value of this position's latitude\r\n   * @type {Number}\r\n   * */\r\n  get LatitudeRaw() {\r\n    return this[s_latitude];\r\n  }\r\n\r\n  /**\r\n   * Return this GeoLocation safe for printing\r\n   * @returns {String} Location String formatted as: ([latitude], [longitude])\r\n   * */\r\n  toString() {\r\n    return `(${this.Latitude}, ${this.Longitude})`;\r\n  }\r\n\r\n  /**\r\n   * Return a URL to this park on Google Maps\r\n   * @returns {String} URL to this park on Google Maps\r\n   * */\r\n  toGoogleMaps() {\r\n    return \"http://maps.google.com/?ll=\" + this.LatitudeRaw + \",\" + this.LongitudeRaw;\r\n  }\r\n}\r\n\r\n/**\r\n * Format a decimal number to [Int]\\u00B0 [Remainder]\\u2032\r\n * @private\r\n * @returns {String} Formatted string representing this number in XX° YY′ ZZ″\r\n * */\r\nfunction formatNumberToGeoLocation(number) {\r\n  // work out minutes and seconds for this input\r\n  var locationMinutes = Math.floor((number % 1) * 60);\r\n  var locationSeconds = (((number * 60) % 1) * 60).toFixed(2);\r\n\r\n  // return formatted string\r\n  return `${Math.floor(number)}\\u00B0${locationMinutes}\\u2032${locationSeconds}\\u2033`;\r\n}\r\n\r\nmodule.exports = GeoLocation;"]}